/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
/**
 * Author:  shamiul Islam-AnunadSolution
 * Created: Sep 1, 2022
 */
---select union user by upazila

SELECT * FROM unions u
-- WHERE u.upazilla_id IN (108,134,138,156,158,160,173,177,304,314,351,373,389,391,419,428,444,447,485,602,603,607,610,632,636,651,694,921,925,929,954,965,991,1006,1020,1027,1033,1040,1054,1067,1081,1085,1094,1095,1202,1204,1207,1213,1233,1263,1285,1294,1322,1345,1347,1349,1358,1379,1395,1504,1512,1518,1533,1537,1547,1552,1553,1561,1570,1574,1578,1582,1586,1807,1823,1855,1909,1915,1918,1927,1931,1933,1936,1940,1954,1967,1972,1975,1981,1987,1994,1998,2216,2224,2245,2249,2256,2266,2290,2614,2618,2638,2672,2692,2710,2712,2717,2721,2730,2738,2747,2756,2760,2764,2769,2777,2903,2910,2918,2921,2947,2956,2962,2984,3014,3025,3029,3041,3051,3221,3224,3230,3267,3282,3291,3330,3332,3336,3386,3532,3543,3551,3591,3605,3611,3626,3644,3668,3671,3677,3813,3847,3858,3861,3907,3929,3936,3958,3961,3985,4104,4109,4123,4138,4147,4161,4190,4240,4243,4284,4414,4419,4433,4442,4471,4643,4649,4655,4661,4665,4667,4670,4677,4712,4717,4740,4753,4764,4769,4775,4794,4802,4806,4811,4827,4833,4842,4845,4849,4854,4876,4879,4892,4906,4909,4918,4952,4961,4977,4979,4994,5015,5039,5071,5094,5133,5158,5165,5173,5202,5239,5255,5270,5440,5454,5480,5557,5585,5595,5622,5628,5646,5670,5678,5682,5760,5787,5814,5856,5865,5874,5880,5883,5924,5944,5974,5984,5994,6113,6116,6120,6122,6123,6124,6131,6155,6165,6172,6181,6194,6403,6406,6428,6447,6450,6460,6469,6475,6485,6486,6552,6576,6702,6706,6758,6768,6807,6852,6860,6864,6876,6906,6909,6915,6941,6963,6991,7018,7037,7056,7088,7204,7209,7218,7238,7240,7247,7256,7274,7283,7312,7315,7336,7345,7385,7507,7510,7521,7536,7547,7580,7583,7587,7605,7619,7622,7633,7639,7655,7672,7683,7704,7725,7734,7790,7838,7852,7855,7857,7866,7876,7887,7914,7947,7958,7980,7987,7990,8110,8112,8125,8131,8153,8172,8182,8194,8207,8229,8276,8407,8421,8425,8436,8447,8458,8475,8478,8487,8503,8542,8549,8558,8573,8576,8592,8614,8625,8665,8669,8694,8704,8725,8743,8747,8782,8790,8811,8827,8844,8850,8861,8878,8889,8894,8937,8967,8970,8990,9018,9023,9027,9029,9032,9033,9047,9050,9086,9089,9108,9117,9120,9122,9127,9131,9135,9138,9153,9162,9194,9309,9319,9323,9325,9328,9338,9347,9357,9366,9385,9395,9408,9451,9482,9486)
Where u.upazilla_id in (395,409,669,918,1088,1290,1376,1508,1831,1974,2294,2662,2743,2990,3094,3288,3334,3558,3602,3874,3915,4111,4273,4480,4680,4730,4859,4908,5063,5079,5143,5233,5487,5566,5610,5747,5835,5956,6152,6479,6528,6704,6863,6944,7066,7364,7585,7616,7773,7895,7976,8247,8273,8429,8636,8786,8867,8988,9092,9159,9376,9494)
and u.coverage_area = 0 AND u.active =1 AND u.name_in_english NOT LIKE 'Ward%'

---select muni user by upazila

SELECT * FROM unions u
-- WHERE u.upazilla_id IN (108,134,138,156,158,160,173,177,304,314,351,373,389,391,419,428,444,447,485,602,603,607,610,632,636,651,694,921,925,929,954,965,991,1006,1020,1027,1033,1040,1054,1067,1081,1085,1094,1095,1202,1204,1207,1213,1233,1263,1285,1294,1322,1345,1347,1349,1358,1379,1395,1504,1512,1518,1533,1537,1547,1552,1553,1561,1570,1574,1578,1582,1586,1807,1823,1855,1909,1915,1918,1927,1931,1933,1936,1940,1954,1967,1972,1975,1981,1987,1994,1998,2216,2224,2245,2249,2256,2266,2290,2614,2618,2638,2672,2692,2710,2712,2717,2721,2730,2738,2747,2756,2760,2764,2769,2777,2903,2910,2918,2921,2947,2956,2962,2984,3014,3025,3029,3041,3051,3221,3224,3230,3267,3282,3291,3330,3332,3336,3386,3532,3543,3551,3591,3605,3611,3626,3644,3668,3671,3677,3813,3847,3858,3861,3907,3929,3936,3958,3961,3985,4104,4109,4123,4138,4147,4161,4190,4240,4243,4284,4414,4419,4433,4442,4471,4643,4649,4655,4661,4665,4667,4670,4677,4712,4717,4740,4753,4764,4769,4775,4794,4802,4806,4811,4827,4833,4842,4845,4849,4854,4876,4879,4892,4906,4909,4918,4952,4961,4977,4979,4994,5015,5039,5071,5094,5133,5158,5165,5173,5202,5239,5255,5270,5440,5454,5480,5557,5585,5595,5622,5628,5646,5670,5678,5682,5760,5787,5814,5856,5865,5874,5880,5883,5924,5944,5974,5984,5994,6113,6116,6120,6122,6123,6124,6131,6155,6165,6172,6181,6194,6403,6406,6428,6447,6450,6460,6469,6475,6485,6486,6552,6576,6702,6706,6758,6768,6807,6852,6860,6864,6876,6906,6909,6915,6941,6963,6991,7018,7037,7056,7088,7204,7209,7218,7238,7240,7247,7256,7274,7283,7312,7315,7336,7345,7385,7507,7510,7521,7536,7547,7580,7583,7587,7605,7619,7622,7633,7639,7655,7672,7683,7704,7725,7734,7790,7838,7852,7855,7857,7866,7876,7887,7914,7947,7958,7980,7987,7990,8110,8112,8125,8131,8153,8172,8182,8194,8207,8229,8276,8407,8421,8425,8436,8447,8458,8475,8478,8487,8503,8542,8549,8558,8573,8576,8592,8614,8625,8665,8669,8694,8704,8725,8743,8747,8782,8790,8811,8827,8844,8850,8861,8878,8889,8894,8937,8967,8970,8990,9018,9023,9027,9029,9032,9033,9047,9050,9086,9089,9108,9117,9120,9122,9127,9131,9135,9138,9153,9162,9194,9309,9319,9323,9325,9328,9338,9347,9357,9366,9385,9395,9408,9451,9482,9486)
Where u.upazilla_id in (395,409,669,918,1088,1290,1376,1508,1831,1974,2294,2662,2743,2990,3094,3288,3334,3558,3602,3874,3915,4111,4273,4480,4680,4730,4859,4908,5063,5079,5143,5233,5487,5566,5610,5747,5835,5956,6152,6479,6528,6704,6863,6944,7066,7364,7585,7616,7773,7895,7976,8247,8273,8429,8636,8786,8867,8988,9092,9159,9376,9494)
and u.coverage_area = 1 AND u.active =1 AND u.name_in_english NOT LIKE 'Ward%'




-------Unions User

--get Already which upazila has user 
INSERT ignore INTO user
(`active`, `designation`, `email`, `full_name_bn`, `full_name_en`, `mobile_no`, `password`, `user_id`, `profile_pic`, `salt`, `head_office_user`, 
`district_id`, `division_id`, `ministry_id`, `role_id`, `union_id`, `upazilla_id`, `is_deleted`, `user_type`, `status`, `creation_date`, `modification_date`, `created_by`, `modified_by`)
 
SELECT 1,'ইউনিয়ন কর্মকর্তা',CONCAT('uisc.',LOWER(u.name_in_english),'@gmail.com') email,
u.name_in_bangla, CONCAT('uisc.',REPLACE( LOWER(up.name_in_english),' ',''),'.', REPLACE( LOWER(u.name_in_english),' ','')) name_in_English,'' mobile,
'3a8f99e9e744de26c8e75270a9016a499c3a1dfad9749854e6e5573718a3b8081591b33542bd73f80094d54426200d372bbc27886d6e5afde3d1032ab9054a89' password,
 CONCAT('uisc.',REPLACE( LOWER(up.name_in_english),' ',''),'.', REPLACE( LOWER(u.name_in_english),' ','')) userName,'' profile_pic,
 '7QP59L/vmZoZKAVkiGnYUwyN2+8=' salt,b'0' head_office_user ,up.district_id DistrictId, di.id divisionId, 8 ministry_id, 13 role_id,u.id union_id,
 up.id upazilla_id,0 is_deleted,2 user_type,2 status,SYSDATE() creation_date,NULL,1,null

FROM unions u
 JOIN upazila up ON up.id = u.upazilla_id
 JOIN district d ON d.id = up.district_id
 JOIN division di ON di.id = d.division_id
WHERE u.id IN (40920,40922,40988,66969,66975,91811,91816,108875,108888,137671,137692,150843,150899,183160,949559,274325,274353,309488,309494,333434,333487,355857,355865,360212,360238,387455,387475,391524,391537,411113,411133,427337,427366,448014,448077,468075,468086,506330,506374,507957,514326,548755,548775,574722,574777,595666,615255,652833,670466,670495,686381,694435,694497,706670,736452,736464,761612,761685,777350,789575,827366,863641,863699,886725,886755,898866,915937,915953,949476);


INSERT INTO `user_per_scheme` ( `active`, `is_deleted`, `head_office_user`, `is_default`, `user_type`, `district_id`, `division_id`, `role_id`, 
`scheme_id`, `union_id`, `upazilla_id`, `bgmea_factory_id`, `bkmea_factory_id`, `user_id`, `creation_date`) 

SELECT  b'0', b'0', b'0', b'0', 2, u.district_id, u.division_id, 13 roleId, 3 scheme_id, NULL, u.upazilla_id, NULL bgmea_factory_id, NULL bkmea_factory_id, u.id, SYSDATE() creation_date FROM user u 
WHERE u.id>6766;







-------Muni User

--get Already which upazila has user 
INSERT ignore INTO user
(`active`, `designation`, `email`, `full_name_bn`, `full_name_en`, `mobile_no`, `password`, `user_id`, `profile_pic`, `salt`, `head_office_user`, 
`district_id`, `division_id`, `ministry_id`, `role_id`, `union_id`, `upazilla_id`, `is_deleted`, `user_type`, `status`, `creation_date`, `modification_date`, `created_by`, `modified_by`)
 
SELECT 1,'ইউনিয়ন কর্মকর্তা',CONCAT('misc.',LOWER(u.name_in_english),'@gmail.com') email,
u.name_in_bangla, CONCAT('misc.',REPLACE( LOWER(up.name_in_english),' ',''),'.', REPLACE( LOWER(u.name_in_english),' ','')) name_in_English,'' mobile,
'3a8f99e9e744de26c8e75270a9016a499c3a1dfad9749854e6e5573718a3b8081591b33542bd73f80094d54426200d372bbc27886d6e5afde3d1032ab9054a89' password,
 CONCAT('misc.',REPLACE( LOWER(up.name_in_english),' ',''),'.', REPLACE( LOWER(u.name_in_english),' ','')) userName,'' profile_pic,
 '7QP59L/vmZoZKAVkiGnYUwyN2+8=' salt,b'0' head_office_user ,up.district_id DistrictId, di.id divisionId, 8 ministry_id, 13 role_id,u.id union_id,
 up.id upazilla_id,0 is_deleted,2 user_type,2 status,SYSDATE() creation_date,NULL,1,null

FROM unions u
 JOIN upazila up ON up.id = u.upazilla_id
 JOIN district d ON d.id = up.district_id
 JOIN division di ON di.id = d.division_id
WHERE u.id IN (9494044,9494045,9494046,9494047,9494048,9494049,9494050,9494051,9494052,9494053,9494054,9494055,9494056,9494057,9494058,9494059,9494060,9494061,9494062,9494063,9494064,9494065,9494066,9494067,9494068,9494069,9494070,9494071,9494072,9494073,9494074,9494075,9494076,9494077,9494078,9494079,9494080,9494081,9494082,9494083,9494084,9494085,9494086,9494087,9494088,9494089,9494090,9494091,9494092,9494093,9494094,9494095,9494096,9494097,9494098,9494099,9494100,9494101,9494102,9494103,9494104,9494105,9494106,9494107,9494108,9494109,9494110,9494111,9494112,9494113,9494114,9494115,9494116,9494117,9494118,9494119,9494120,9494121,9494122,9494123,9494124,9494125,9494126,9494127,9494128,9494129,9494130,9494131,9494132,9494133,9494134,9494135,9494136,9494137,9494138,9494139,9494140,9494141,9494142,9494143,9494144,9494145,9494146,9494147,9494148,9494149,9494150,9494151,9494152,9494153,9494154,9494155,9494156,9494157,9494158,9494159,9494160,9494161,9494162,9494163,9494164,9494165,9494166,9494167,9494168,9494169,9494170,9494171,9494172,9494173,9494174,9494175,9494176,9494177,9494178,9494179,9494180,9494181,9494182,9494183,9494184,9494185,9494186,9494187,9494188,9494189,9494190,9494191,9494192,9494193,9494194,9494195,9494196,9494197,9494198,9494199,9494200,9494201,9494202,9494203,9494204,9494205,9494206,9494207,9494208,9494209,9494210,9494211,9494212,9494213,9494214,9494215,9494216,9494217,9494218,9494219,9494220,9494221,9494222,9494223,9494224,9494225,9494226,9494227,9494228,9494229,9494230,9494231,9494232,9494233,9494234,9494235,9494236,9494237,9494238,9494239,9494240,9494241,9494242,9494243,9494244,9494245,9494246,9494247,9494248,9494249,9494250,9494251,9494252,9494253,9494254,9494255,9494256,9494257,9494258,9494259,9494260,9494261,9494262,9494263,9494264,9494265,9494266,9494267,9494268,9494269,9494270,9494271,9494272,9494273,9494274,9494275,9494276,9494277,9494278,9494279,9494280,9494281,9494282,9494283,9494284,9494285,9494286,9494287,9494288,9494289,9494290,9494291,9494292,9494293,9494294,9494295,9494296,9494297,9494298,9494299,9494300,9494301,9494302,9494303,9494304,9494305,9494306,9494307,9494308,9494309,9494310,9494311,9494312,9494313,9494314,9494315,9494316,9494317,9494318,9494319,9494320,9494321,9494322,9494323,9494324,9494325,9494326,9494327,9494328,9494329,9494330,9494331,9494332,9494333,9494334,9494335,9494336,9494337,9494338,9494339,9494340,9494341,9494342,9494343,9494344,9494345,9494346,9494347,9494348,9494349,9494350,9494351,9494352,9494353,9494354,9494355,9494356,9494357,9494358,9494359,9494360,9494361,9494362,9494363,9494364,9494365,9494366,9494367,9494368,9494369,9494370,9494371,9494372,9494373,9494374,9494375,9494376,9494377,9494378,9494379,9494380,9494381,9494382,9494383,9494384,9494415,9494416,9494417,9494418,9494419,9494420,9494421,9494422,9494423,9494424,9494425,9494426,9494427,9494428,9494429,9494430,9494431,9494432,9494433,9494434,9494435,9494436,9494437,9494438,9494439,9494440,9494441,9494442,9494443,9494444,9494445,9494446,9494447,9494448,9494449,9494450,9494451,9494452,9494453,9494454,9494455,9494456,9494457,9494458,9494459,9494460,9494461,9494462,9494463,9494464,9494465,9494466,9494467,9494468,9494469,9494470,9494471,9494472,9494473,9494474,9494475,9494476,9494477,9494478,9494479,9494480,9494481,9494482,9494483,9494484,9494485,9494486,9494487,9494488,9494489,9494490,9494491,9494492,9494493,9494494,9494495,9494496,9494497,9494498,9494499,9494500,9494501,9494502,9494503,9494504,9494505,9494506,9494507,9494508);


INSERT INTO `user_per_scheme` ( `active`, `is_deleted`, `head_office_user`, `is_default`, `user_type`, `district_id`, `division_id`, `role_id`, 
`scheme_id`, `union_id`, `upazilla_id`, `bgmea_factory_id`, `bkmea_factory_id`, `user_id`, `creation_date`) 

SELECT  b'0', b'0', b'0', b'0', 2, u.district_id, u.division_id, 28 roleId, 3 scheme_id, NULL, u.upazilla_id, NULL bgmea_factory_id,
 NULL bkmea_factory_id, u.id, SYSDATE() creation_date FROM user u 
WHERE u.id>=10034;


INSERT ignore INTO user
(`active`, `designation`, `email`, `full_name_bn`, `full_name_en`, `mobile_no`, `password`, `user_id`, `profile_pic`, `salt`, `head_office_user`, 
`district_id`, `division_id`, `ministry_id`, `role_id`, `union_id`, `upazilla_id`, `is_deleted`, `user_type`, `status`, `creation_date`, `modification_date`, `created_by`, `modified_by`)


SELECT 1,'ইউনিয়ন কর্মকর্তা',CONCAT('cisc.',LOWER(u.name_in_english),'@gmail.com') email,
u.name_in_bangla, CONCAT('cisc.',REPLACE( LOWER(up.name_in_english),' ',''),'.', REPLACE( LOWER(u.name_in_english),' ','')) name_in_English,'' mobile,
'3a8f99e9e744de26c8e75270a9016a499c3a1dfad9749854e6e5573718a3b8081591b33542bd73f80094d54426200d372bbc27886d6e5afde3d1032ab9054a89' password,
REPLACE( CONCAT('cisc.',REPLACE( LOWER(up.name_in_english),' ',''),
 REPLACE( REPLACE( LOWER(u.name_in_english),' ',''),'ward-','')) ,'citycorporation','')userName,'' profile_pic,
 '7QP59L/vmZoZKAVkiGnYUwyN2+8=' salt,b'0' head_office_user ,up.district_id DistrictId, di.id divisionId, 8 ministry_id, 13 role_id,u.id union_id,
 up.id upazilla_id,0 is_deleted,2 user_type,2 status,SYSDATE() creation_date,NULL,1,null

FROM unions u
 JOIN upazila up ON up.id = u.upazilla_id
 JOIN district d ON d.id = up.district_id
 JOIN division di ON di.id = d.division_id
WHERE u.id IN (9494290,9494291,9494292,9494293,9494294,9494295,9494296,9494297,9494298,9494299,9494300,9494301,9494302,9494303,9494304,9494305,9494306,9494307,9494308,9494309,9494310,9494311,9494312,9494313,9494314,9494315,9494316,9494317,9494318,9494319,9494320,9494321,9494322,9494323,9494324,9494325,9494326,9494327,9494328,9494329,9494330,9494331,9494332,9494333,9494334,9494335,9494336,9494337,9494338,9494339,9494340,9494341,9494342,9494343,9494344,9494345,9494346,9494347,9494348,9494349,9494350,9494351,9494352,9494353,9494354,9494355,9494356,9494357,9494385,9494386,9494387,9494388,9494389,9494390,9494391,9494392,9494393,9494394,9494395,9494396,9494397,9494398,9494399,9494400,9494401,9494402,9494403,9494404,9494405,9494406,9494407,9494408,9494409,9494410,9494411,9494412,9494413,9494414);


